<!DOCTYPE html>
<html lang="en-uk">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 2.4.0">

  <meta name="author" content="Robert William Schlegel">

  
  
  
  
    
  
  <meta name="description" content="Objective With more and more scientists moving to open source software (i.e. R or Python) to perform their numerical analyses the opportunities for collaboration increase and we may all benefit from this enhanced productivity. At the risk of sounding sycophantic, the future of scientific research truly is in multi-disciplinary work. What then could be inhibiting this slow march towards progress? We tend to like to stick to what is comfortable.">

  
  <link rel="alternate" hreflang="en-uk" href="https://theoceancode.netlify.app/post/odv_figures/">

  


  

  
  
  
  <meta name="theme-color" content="#3f51b5">
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha512-6MXa8B6uaO18Hid6blRMetEIoPqHf7Ux1tnyIQdpt9qI5OACx7C+O3IVTr98vwGnlcg0LOLa02i9Y1HpVhlfiw==" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw==" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" integrity="sha256-ygkqlh3CYSUri3LhQxzdcm0n1EQvH2Y+U5S2idbLtxs=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" crossorigin="anonymous">
        
      
    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.2.0/leaflet.css" integrity="sha512-M2wvCLH6DSRazYeZRIm1JnYyh22purTM+FDB5CsyxtQJYeKq83arPe5wgbNmcFXGqiSH2XR8dT/fJISVA1r/zQ==" crossorigin="anonymous">
    

    

  

  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:400,700%7cMerriweather%7cRoboto&#43;Mono">
  

  <link rel="stylesheet" href="/styles.css">
  

  
  
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-118123016-2', 'auto');
      
      ga('require', 'eventTracker');
      ga('require', 'outboundLinkTracker');
      ga('require', 'urlChangeTracker');
      ga('send', 'pageview');
    </script>
    <script async src="//www.google-analytics.com/analytics.js"></script>
    
    <script async src="https://cdnjs.cloudflare.com/ajax/libs/autotrack/2.4.1/autotrack.js" integrity="sha512-HUmooslVKj4m6OBu0OgzjXXr+QuFYy/k7eLI5jdeEy/F4RSgMn6XRWRGkFi5IFaFgy7uFTkegp3Z0XnJf3Jq+g==" crossorigin="anonymous"></script>
    
  
  

  
  <link rel="alternate" href="https://theoceancode.netlify.app/index.xml" type="application/rss+xml" title="The Ocean Code">
  <link rel="feed" href="https://theoceancode.netlify.app/index.xml" type="application/rss+xml" title="The Ocean Code">
  

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="https://theoceancode.netlify.app/post/odv_figures/">

  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="twitter:site" content="@robwschlegel">
  <meta property="twitter:creator" content="@robwschlegel">
  
  <meta property="og:site_name" content="The Ocean Code">
  <meta property="og:url" content="https://theoceancode.netlify.app/post/odv_figures/">
  <meta property="og:title" content="ODV figures in R | The Ocean Code">
  <meta property="og:description" content="Objective With more and more scientists moving to open source software (i.e. R or Python) to perform their numerical analyses the opportunities for collaboration increase and we may all benefit from this enhanced productivity. At the risk of sounding sycophantic, the future of scientific research truly is in multi-disciplinary work. What then could be inhibiting this slow march towards progress? We tend to like to stick to what is comfortable.">
  <meta property="og:locale" content="en-uk">
  
  <meta property="article:published_time" content="2017-06-26T00:00:00&#43;00:00">
  
  <meta property="article:modified_time" content="2017-06-26T00:00:00&#43;00:00">
  

  

  

  <title>ODV figures in R | The Ocean Code</title>

</head>
<body id="top" data-spy="scroll" data-target="#toc" data-offset="71" >

<nav class="navbar navbar-default navbar-fixed-top" id="navbar-main">
  <div class="container">

    
    <div class="navbar-header">
      
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
              data-target=".navbar-collapse" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
      <a class="navbar-brand" href="/">The Ocean Code</a>
    </div>

    
    <div class="collapse navbar-collapse">

      
      
      <ul class="nav navbar-nav navbar-right">
        

        
        
        
        
        
          
        

        <li class="nav-item">
          <a href="/#publications">
            
            <span>Publications</span>
            
          </a>
        </li>

        
        

        
        
        
        
        
          
        

        <li class="nav-item">
          <a href="/#packages">
            
            <span>Packages</span>
            
          </a>
        </li>

        
        

        
        
        
        
        
          
        

        <li class="nav-item">
          <a href="/#projects">
            
            <span>Projects</span>
            
          </a>
        </li>

        
        

        
        
        
        
        
          
        

        <li class="nav-item">
          <a href="/#posts">
            
            <span>Blog</span>
            
          </a>
        </li>

        
        

        
        
        
        
        
          
        

        <li class="nav-item">
          <a href="/#talks">
            
            <span>Talks</span>
            
          </a>
        </li>

        
        

        
        
        
        
        
          
        

        <li class="nav-item">
          <a href="/#posters">
            
            <span>Posters</span>
            
          </a>
        </li>

        
        

        
        
        
        
        
          
        

        <li class="nav-item">
          <a href="/#workshops">
            
            <span>Workshops</span>
            
          </a>
        </li>

        
        

        
        
        
        
        
          
        

        <li class="nav-item">
          <a href="/#contact">
            
            <span>Contact</span>
            
          </a>
        </li>

        
        
      

      
      </ul>

    </div>
  </div>
</nav>


<article class="article" itemscope itemtype="http://schema.org/Article">

  


  <div class="article-container">
    <h1 itemprop="name">ODV figures in R</h1>

    

<div class="article-metadata">

  
  
  <span itemscope itemprop="author" itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Robert William Schlegel">
  </span>
  

  <span class="article-date">
    
    <meta content="2017-06-26 00:00:00 &#43;0000 UTC" itemprop="datePublished">
    <time datetime="2017-06-26 00:00:00 &#43;0000 UTC" itemprop="dateModified">
      2017-06-26
    </time>
  </span>
  <span itemscope itemprop="publisher" itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Robert William Schlegel">
  </span>

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    8 min read
  </span>
  

  
  

  
  
  
  <span class="middot-divider"></span>
  <span class="article-categories">
    <i class="fa fa-folder"></i>
    
    <a href="https://theoceancode.netlify.app/categories/r/">R</a>
    
  </span>
  
  

  
  
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=ODV%20figures%20in%20R&amp;url=https%3a%2f%2ftheoceancode.netlify.app%2fpost%2fodv_figures%2f"
         target="_blank" rel="noopener">
        <i class="fa fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u=https%3a%2f%2ftheoceancode.netlify.app%2fpost%2fodv_figures%2f"
         target="_blank" rel="noopener">
        <i class="fa fa-facebook"></i>
      </a>
    </li>
    <li>
      <a class="linkedin"
         href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2ftheoceancode.netlify.app%2fpost%2fodv_figures%2f&amp;title=ODV%20figures%20in%20R"
         target="_blank" rel="noopener">
        <i class="fa fa-linkedin"></i>
      </a>
    </li>
    <li>
      <a class="weibo"
         href="http://service.weibo.com/share/share.php?url=https%3a%2f%2ftheoceancode.netlify.app%2fpost%2fodv_figures%2f&amp;title=ODV%20figures%20in%20R"
         target="_blank" rel="noopener">
        <i class="fa fa-weibo"></i>
      </a>
    </li>
    <li>
      <a class="email"
         href="mailto:?subject=ODV%20figures%20in%20R&amp;body=https%3a%2f%2ftheoceancode.netlify.app%2fpost%2fodv_figures%2f">
        <i class="fa fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


  

</div>


    <div class="article-style" itemprop="articleBody">
      

<h2 id="objective">Objective</h2>

<p>With more and more scientists moving to open source software (i.e. R or Python) to perform their numerical analyses the opportunities for collaboration increase and we may all benefit from this enhanced productivity. At the risk of sounding sycophantic, the future of scientific research truly is in multi-disciplinary work. What then could be inhibiting this slow march towards progress? We tend to like to stick to what is comfortable. Oceanographers in South Africa have been using <a href="https://www.mathworks.com/products/matlab.html" target="_blank">MATLAB</a> and <a href="http://odv.awi.de/" target="_blank">ODV</a> (Ocean Data View) since about the time that Jesus was lacing up his sandals for his first trip to Palestine. There has been much debate on the future of MATLAB in science, so I won&rsquo;t get into that here, but I will say that the package <a href="https://cran.r-project.org/web/packages/oce/index.html" target="_blank">oce</a> contains much of the code that one would need for oceanographic work in R, and the package <a href="https://cran.r-project.org/web/packages/angstroms/" target="_blank">angstroms</a> helps one to work with ROMS (Regional Ocean Modeling System) output. The software that has however largely gone under the radar in these software debates has been ODV. Probably because it is free (after registration) it&rsquo;s fate has not been sealed by university departments looking to cut costs. The issue with ODV however is the same with all Microsoft products; the sin of having a &ldquo;pointy clicky&rdquo; user interface. One cannot perform truly reproducible research with a menu driven user interface. The steps must be written out in code. And so here I will lay out those necessary steps to create an interpolated CTD time series of temperature values that looks as close to the default output of ODV as possible.</p>

<p><img src="/img/ODV_example.jpg" alt="**Figure 1**: The default output of ODV when plotting temperature by depth through time at one location." /></p>

<h2 id="colour-palette">Colour palette</h2>

<p>Perhaps the most striking thing about the figures that ODV creates is it&rsquo;s colour palette. A large criticism of this colour palette is that the range of colours used are not equally weighted visually, with the bright reds drawing ones eye more than the muted blues. This issue can be made up for using the <a href="https://cran.r-project.org/web/packages/viridis/" target="_blank">viridis</a> package, but for now we will stick to a ODV-like colour palette as that is part of our current objective. To create a colour palette that appears close to the ODV standard I used <a href="https://www.gimp.org/downloads/" target="_blank">GIMP</a> to <a href="https://www.youtube.com/watch?v=VHyFgTZmnF8" target="_blank">extract</a> the hexadecimal colour values from the colour bar in Figure 1.</p>

<pre><code class="language-r"># Load libraries
library(tidyverse)
library(lubridate)
library(reshape2)
library(MBA)
library(mgcv)

# Load and screen data
  # For ease I am only using monthly means
  # and depth values rounded to 0.1 metres
ctd &lt;- read_csv(&quot;../../static/data/ctd.csv&quot;) %&gt;% 
  mutate(depth  = -depth) %&gt;%  # Correct for plotting
  filter(site == 1) %&gt;% 
  select(date, depth, temperature) %&gt;% 
  rename(temp = temperature) #%&gt;%
### Uncomment out the following lines to reduce the data resolution
  # mutate(date = round_date(date, unit = &quot;month&quot;)) %&gt;%
  # mutate(depth = round(depth, 1)) %&gt;%
  # group_by(date, depth) %&gt;%
  # summarise(temp = round(mean(temp, na.rm = TRUE),1))
###

# Manually extracted hexidecimal ODV colour palette
ODV_colours &lt;- c(&quot;#feb483&quot;, &quot;#d31f2a&quot;, &quot;#ffc000&quot;, &quot;#27ab19&quot;, &quot;#0db5e6&quot;, &quot;#7139fe&quot;, &quot;#d16cfa&quot;)

# Create quick scatterplot
ggplot(data = ctd, aes(x = date, y = depth)) +
  geom_point(aes(colour = temp)) +
  scale_colour_gradientn(colours = rev(ODV_colours)) +
  labs(y = &quot;depth (m)&quot;, x = NULL, colour = &quot;temp. (°C)&quot;)
</code></pre>

<p><img src="/post/odv_figures_files/figure-html/of-scatter-1.png" width="672" /></p>

<p><strong>Figure 2</strong>: A non-interpolated scatterplot of our temperature (°C) data shown as a function of depth (m) over time.</p>

<h2 id="interpolating">Interpolating</h2>

<p>Figure 2 is a far cry from the final product we want, but it is a step in the right direction. One of the things that sets ODV apart from other visualisation software is that it very nicely interpolates the data you give it. While this looks nice, there is some criticism that may be leveled against doing so. That being said, what we want is a pretty visualisation of our data. We are not going to be using these data for any numerical analyses so the main priority is that the output allows us to better visually interpret the data. The package <a href="https://cran.r-project.org/web/packages/MBA/" target="_blank">MBA</a> already has the necessary functionality to do this, and it works with <code>ggplot2</code>, so we will be using this to get our figure. The interpolation method used by <code>mba.surf()</code> is multilevel B-splines.</p>

<p>In order to do so we will need to <code>dcast()</code> our data into a wide format so that it simulates a surface layer. <code>spread()</code> from the <code>tidyr</code> package doesn&rsquo;t quite do what we need as we want a proper surface map, which is outside of the current ideas on the structuring of tidy data. Therefore, after casting our data wide we will use <code>melt()</code>, rather than <code>gather()</code>, to get the data back into long format so that it works with <code>ggplot2</code>.</p>

<p>It is important to note with the use of <code>mba.surf()</code> that it transposes the values while it is creating the calculations and so creating an uneven grid does not work well. Using the code written below one will always need to give the same specifications for pixel count on the x and y axes.</p>

<pre><code class="language-r"># The date column must then be converted to numeric values
ctd$date &lt;- decimal_date(ctd$date)

# Now we may interpolate the data
ctd_mba &lt;- mba.surf(ctd, no.X = 300, no.Y = 300, extend = T)
dimnames(ctd_mba$xyz.est$z) &lt;- list(ctd_mba$xyz.est$x, ctd_mba$xyz.est$y)
ctd_mba &lt;- melt(ctd_mba$xyz.est$z, varnames = c('date', 'depth'), value.name = 'temp') %&gt;% 
  filter(depth &lt; 0) %&gt;% 
  mutate(temp = round(temp, 1))

# Finally we create our gridded result
ggplot(data = ctd_mba, aes(x = date, y = depth)) +
  geom_raster(aes(fill = temp)) +
  scale_fill_gradientn(colours = rev(ODV_colours)) +
  geom_contour(aes(z = temp), binwidth = 2, colour = &quot;black&quot;, alpha = 0.2) +
  geom_contour(aes(z = temp), breaks = 20, colour = &quot;black&quot;) +
### Activate to see which pixels are real and not interpolated
  # geom_point(data = ctd, aes(x = date, y = depth),
  #            colour = 'black', size = 0.2, alpha = 0.4, shape = 8) +
###
  labs(y = &quot;depth (m)&quot;, x = NULL, fill = &quot;temp. (°C)&quot;) +
  coord_cartesian(expand = 0)
</code></pre>

<p><img src="/post/odv_figures_files/figure-html/of-interp-1.png" width="672" /></p>

<p><strong>Figure 3</strong>: The same temperature (°C) profiles seen in Figure 2 with the missing values filled in with multilevel B-splines. Note the artefact created in the bottom right corner. The 20°C contour line is highlighted in black.</p>

<p>At first glance this now appears to be a very good approximation of the output from ODV. An astute eye will have noticed that the temperatures along the bottom right corner of this figure are not interpolating in a way that appears possible. It is very unlikely that there would be a deep mixed layer underneath the thermoclines detected during 2015. The reason the splines create this artefact is that they are based on a convex hull around the real data points and so the interpolating algorithm wants to perform a regression towards a mean value away from the central point of where the spline is being calculated from. Because the thermoclines detected are interspersed between times where the entire water column consists of a mixed layer <code>mba.surf()</code> is filling in the areas without data as though they are a fully mixed surface layer.</p>

<h2 id="bounding-boxes">Bounding boxes</h2>

<p>There are many ways to deal with this problem with four possible fixes coming to mind quickly. The first is to set <code>extend = F</code> within <code>mba.surf()</code>. This tells the algorithm not to fill up every part of the plotting area and will alleviate some of the inaccurate interpolation that occurs but will not eliminate it. The second fix, which would prevent all inaccurate interpolation would be to limit the depth of all of the temperature profiles to be the same as the shallowest sampled profile. This is not an ideal fix because we would then lose quite a bit of information from the deeper sampling that occurred from 2013 to 2014. The third fix is to create a bounding box and screen out all of the interpolated data outside of it. A fourth option is to use soap-film smoothing over some other interpolation method, such as a normal GAM, concurrently with a bounding box. This is normally a good choice but does not work well with these data so I have gone with option three.</p>

<pre><code class="language-r"># Create a bounding box
  # We want to slightly extend the edges so as to use all of our data
left &lt;- ctd[ctd$date == min(ctd$date),] %&gt;% 
  select(-temp) %&gt;% 
  ungroup() %&gt;% 
  mutate(date = date-0.01)
bottom &lt;- ctd %&gt;%
  group_by(date) %&gt;% 
  summarise(depth = min(depth)) %&gt;% 
  mutate(depth = depth-0.01)
right &lt;- ctd[ctd$date == max(ctd$date),] %&gt;% 
  select(-temp) %&gt;% 
  ungroup() %&gt;% 
  mutate(date = date+0.01)
top &lt;- ctd %&gt;%
  group_by(date) %&gt;% 
  summarise(depth = max(depth)) %&gt;% 
  mutate(depth = depth+0.01)
bounding_box &lt;- rbind(data.frame(left[order(nrow(left):1),]), data.frame(bottom), 
                      data.frame(right), data.frame(top[order(nrow(top):1),]))

# Now that we have a bounding box we need to 
# screen out the pixels created outside of it
bounding_box_list &lt;- list(bounding_box)
names(bounding_box_list[[1]]) &lt;- c(&quot;v&quot;,&quot;w&quot;)
v &lt;- ctd_mba$date
w &lt;- ctd_mba$depth
ctd_mba_bound &lt;- ctd_mba[inSide(bounding_box_list, v, w),]

# Correct date values back to date format
  # Not used as it introduces blank space into the figure
# ctd_mba_bound$date &lt;- as.Date(format(date_decimal(ctd_mba_bound$date), &quot;%Y-%m-%d&quot;))


# The screened data
ggplot(data = ctd_mba_bound, aes(x = date, y = depth)) +
  geom_raster(aes(fill = temp)) +
  scale_fill_gradientn(colours = rev(ODV_colours)) +
  geom_contour(aes(z = temp), binwidth = 2, colour = &quot;black&quot;, alpha = 0.2) +
  geom_contour(aes(z = temp), breaks = 20, colour = &quot;black&quot;) +
  labs(y = &quot;depth (m)&quot;, x = NULL, fill = &quot;temp. (°C)&quot;) +
  coord_cartesian(expand = 0)
</code></pre>

<p><img src="/post/odv_figures_files/figure-html/of-bound-1.png" width="672" /></p>

<p><strong>Figure 4</strong>: The same temperature (°C) profiles seen in Figure 3 with a bounding box used to screen out data interpolated outside of the range of the recordings.</p>

<h2 id="summary">Summary</h2>

<p>In this short tutorial we have seen how to create an interpolated temperature depth profile over time after a fashion very similar to the default output from ODV. We have also seen how to either fill the entire plotting area with interpolated data (Figure 3), or quickly generate a bounding box in order to remove any potential interpolation artefacts (Figure 4). I think this is a relatively straight forward work flow and would work with any tidy dataset. It is worth noting that this is not constrained to depth profiles, but would work just as well with map data. One would only need to change the <code>date</code> and <code>depth</code> variables to <code>lon</code> and <code>lat</code>.</p>

<p>R is an amazingly flexible language with an incredible amount of support and I&rsquo;ve yet to see it not be able to emulate, or improve upon, an analysis or graphical output from any other software.</p>

    </div>

    


<div class="article-tags">
  
  <a class="label label-default" href="https://theoceancode.netlify.app/tags/odv/">ODV</a>
  
  <a class="label label-default" href="https://theoceancode.netlify.app/tags/visuals/">visuals</a>
  
  <a class="label label-default" href="https://theoceancode.netlify.app/tags/interpolation/">interpolation</a>
  
</div>




    
    
    <div class="article-widget">
      <div class="hr-light"></div>
      <h3>Related</h3>
      <ul>
        
        <li><a href="/post/wind_vectors/">Wind Vector Time Series</a></li>
        
      </ul>
    </div>
    

    

    


  </div>
</article>

<footer class="site-footer">
  <div class="container">

    
    <p class="powered-by">
      <a href="https://theoceancode.netlify.app/privacy/">Privacy Policy</a>
    </p>
    

    <p class="powered-by">

      &copy; 2024 &middot; 

      Powered by the
      <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
      <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

      <span class="pull-right" aria-hidden="true">
        <a href="#" id="back_to_top">
          <span class="button_icon">
            <i class="fa fa-chevron-up fa-2x"></i>
          </span>
        </a>
      </span>

    </p>
  </div>
</footer>


<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close btn-large" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Cite</h4>
      </div>
      <div>
        <pre><code class="modal-body tex"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-primary btn-outline js-copy-cite" href="#" target="_blank">
          <i class="fa fa-copy"></i> Copy
        </a>
        <a class="btn btn-primary btn-outline js-download-cite" href="#" target="_blank">
          <i class="fa fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

    

    
    
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        CommonHTML: { linebreaks: { automatic: true } },
        tex2jax: { inlineMath: [ ['$', '$'], ['\\(','\\)'] ], displayMath: [ ['$$','$$'], ['\\[', '\\]'] ], processEscapes: false },
        TeX: { noUndefined: { attributes: { mathcolor: 'red', mathbackground: '#FFEEEE', mathsize: '90%' } } },
        messageStyle: 'none'
      });
    </script>
    

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" integrity="sha512-3P8rXCuGJdNZOnUx/03c1jOTnMn3rP63nBip5gOP2qmUh5YAdVAvFZ1E+QLZZbC1rtMrQb+mah3AfYW11RUrWA==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.3/imagesloaded.pkgd.min.js" integrity="sha512-umsR78NN0D23AzgoZ11K7raBD+R6hqKojyBZs1w8WvYlsI+QuKRGBx3LFCwhatzBunCjDuJpDHwxD13sLMbpRA==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha512-iztkobsvnjKfAtTNdHkGVjAYTrrtlC7mGp/54c40wowO7LhURYl3gVzzcEqGl/qKXQltJ2HwMrdLcNUdo+N/RQ==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.4/isotope.pkgd.min.js" integrity="sha512-VDBOIlDbuC4VWxGJNmuFRQ0Li0SKkDpmGyuhAG5LTDLd/dJ/S0WMVxriR2Y+CyPL5gzjpN4f/6iqWVBJlht0tQ==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" integrity="sha256-X5PoE3KU5l+JcX+w09p/wHl9AzK333C4hJ2I9S5mD4M=" crossorigin="anonymous"></script>

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>
        
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/r.min.js"></script>
        
      

      
      
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS_CHTML-full" integrity="sha256-GhM+5JHb6QUzOQPXSJLEWP7R73CbkisjzK5Eyij4U9w=" crossorigin="anonymous" async></script>
      
    

    <script src="/js/hugo-academic.js"></script>
    

    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.2.0/leaflet.js" integrity="sha512-lInM/apFSqyy1o6s89K4iQUKg6ppXEgsVxT35HbzUupEVRh2Eu9Wdl4tHj7dZO0s1uvplcYGmt3498TtHq+log==" crossorigin="anonymous"></script>
    

    
    
    

    
    
    <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script>
      const search_index_filename = "/search.json";
      const i18n = {
        'placeholder': "Search...",
        'no_results': "No results found"
      };
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks"
        };
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    <script src="/js/search.js"></script>
    

    
    

  </body>
</html>

